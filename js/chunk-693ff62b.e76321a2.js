(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-693ff62b"],{"0de6":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("cartAlert"),a("loading",{attrs:{active:t.isLoading},on:{"update:active":function(e){t.isLoading=e}}}),a("ul",{staticClass:"d-flex flex-wrap"},t._l(t.filterproducts,(function(e){return a("li",{key:e.id,staticClass:"product",on:{click:function(a){return t.goProduct(e.id)}}},[a("img",{attrs:{src:e.imageUrl,alt:""}}),a("div",{staticClass:"product-content"},[a("h2",[t._v(t._s(e.title))]),a("p",{staticClass:"product-text"},[t._v(t._s(e.content))]),a("div",{staticClass:"price d-flex justify-content-between"},[a("div",{staticClass:"d-flex"},[a("p",{staticClass:"h4"},[t._v(t._s(t._f("currency")(e.price)))]),a("button",{staticClass:"btn btn-danger btn-md ml-3 p-2",attrs:{disabled:t.isDisable},on:{click:function(a){return a.stopPropagation(),t.addtoCart(e.id)}}},[a("i",{staticClass:"fas fa-shopping-cart"})])]),t._m(0,!0)])]),a("div",{staticClass:"mobile px-3 pt-2"},[a("h3",[t._v(t._s(e.title))]),a("div",{staticClass:"mobile-margin"},[a("h3",[t._v(t._s(e.price))]),a("button",{staticClass:"btn btn-danger btn-md ml-3 p-2",on:{click:function(a){return a.stopPropagation(),t.addtoCart(e.id)}}},[a("i",{staticClass:"fas fa-shopping-cart"})])])])])})),0)],1)},i=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("span",{staticClass:"pt-2"},[t._v("\n            更多\n            "),a("i",{staticClass:"fas fa-arrow-right"})])}],r=(a("ac6a"),a("f2d2")),c={data:function(){return{ty:!0,category:"",products:[],filterproducts:[],isLoading:!1,titleImgUrl:"",isDisable:!1}},components:{cartAlert:r["a"]},methods:{filterProducts:function(){var t=this;t.filterproducts=[],t.products.forEach((function(e){"全部家具"===t.category&&t.filterproducts.push(e),e.category===t.category&&t.filterproducts.push(e)}))},getProducts:function(){var t=this,e="".concat("https://vue-course-api.hexschool.io","/api/").concat("bojie","/products/all");t.isLoading=!0,t.$http.get(e).then((function(e){t.isLoading=!1,t.products=e.data.products,t.filterProducts()}))},goProduct:function(t){this.$router.push("/product/".concat(t))},addtoCart:function(t){var e=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,s=this;this.isDisable=!0;var i="".concat("https://vue-course-api.hexschool.io","/api/").concat("bojie","/cart");s.loadingItem=t;var r={product_id:t,qty:a};s.$http.post(i,{data:r}).then((function(){s.loadingItem="",e.$bus.$emit("refreshCart"),e.$bus.$emit("alertCart"),e.isDisable=!1}))}},watch:{$route:function(){switch(this.$route.params.Category){case"all":this.category="全部家具";break;case"sofa":this.category="沙發";break;case"diningtable":this.category="餐桌";break;case"bed":this.category="床組";break;case"wardrobe":this.category="衣櫃";break;default:this.category="全部家具";break}this.filterProducts()}},created:function(){switch(this.getProducts(),this.$route.params.Category){case"all":this.category="全部家具";break;case"sofa":this.category="沙發";break;case"diningtable":this.category="餐桌";break;case"bed":this.category="床組";break;case"wardrobe":this.category="衣櫃";break;default:this.category="全部家具";break}this.$emit("changeImg",this.$route.params.Category)}},o=c,n=(a("da93"),a("2877")),l=Object(n["a"])(o,s,i,!1,null,"02c2b61c",null);e["default"]=l.exports},"9a4e":function(t,e,a){"use strict";var s=a("afd2"),i=a.n(s);i.a},ac6a:function(t,e,a){for(var s=a("cadf"),i=a("0d58"),r=a("2aba"),c=a("7726"),o=a("32e9"),n=a("84f2"),l=a("2b4c"),u=l("iterator"),d=l("toStringTag"),f=n.Array,h={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},p=i(h),g=0;g<p.length;g++){var b,m=p[g],v=h[m],C=c[m],y=C&&C.prototype;if(y&&(y[u]||o(y,u,f),y[d]||o(y,d,m),n[m]=f,v))for(b in s)y[b]||r(y,b,s[b],!0)}},afd2:function(t,e,a){},be16:function(t,e,a){},da93:function(t,e,a){"use strict";var s=a("be16"),i=a.n(s);i.a},f2d2:function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"message-alert bg-light rounded text-center"},t._l(t.messages,(function(e,s){return a("div",{key:s,staticClass:"alert alert-dismissible p-1 m-0"},[a("i",{staticClass:"fas fa-clipboard-check fa-5x mt-5 text-info"}),a("h4",{staticClass:"p-4"},[t._v("已加入購物車")]),a("button",{staticClass:"close",attrs:{type:"button","aria-label":"Close"},on:{click:function(e){return t.removeMessage(s)}}},[a("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])])})),0)},i=[],r=(a("ac6a"),{data:function(){return{messages:[]}},methods:{updateMessage:function(){var t=Math.floor(new Date/1e3);this.messages.push({timestamp:t}),this.removeMessageWithTiming(t)},removeMessage:function(t){this.messages.splice(t,1)},removeMessageWithTiming:function(t){var e=this;setTimeout((function(){e.messages.forEach((function(a,s){a.timestamp===t&&e.messages.splice(s,1)}))}),2500)}},created:function(){var t=this;t.$bus.$on("alertCart",(function(){t.updateMessage()}))}}),c=r,o=(a("9a4e"),a("2877")),n=Object(o["a"])(c,s,i,!1,null,"1fcdf6af",null);e["a"]=n.exports}}]);
//# sourceMappingURL=chunk-693ff62b.e76321a2.js.map